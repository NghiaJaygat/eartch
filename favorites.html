<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quá»‘c gia yÃªu thÃ­ch</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="header">
    <h1>â¤ï¸ Quá»‘c gia YÃªu thÃ­ch</h1>
  </header>

  <div class="container">
    <div id="favoritesList" class="card-grid"></div>
  </div>

  <script>
    const user = localStorage.getItem("username") || "guest";
    const key = "favorites_" + user;
    const favorites = JSON.parse(localStorage.getItem(key)) || [];
    const listContainer = document.getElementById("favoritesList");

    if (favorites.length === 0) {
      listContainer.innerHTML = "<p>Báº¡n chÆ°a cÃ³ quá»‘c gia nÃ o trong danh sÃ¡ch yÃªu thÃ­ch.</p>";
    } else {
      favorites.forEach(item => {
        const div = document.createElement("div");
        div.className = "card";
        div.innerHTML = `
          <img src="${item.flag}" alt="Flag of ${item.name}" style="width:80px; margin-bottom:10px;" />
          <h3>${item.name}</h3>
          <button class="btn view" onclick="viewCountry('${item.name}')">ğŸ” Xem chi tiáº¿t</button>
          <button class="btn delete" onclick="removeFavorite('${item.name}')">ğŸ—‘ï¸ XÃ³a</button>
        `;
        listContainer.appendChild(div);
      });
    }

    function viewCountry(name) {
      window.location.href = `index.html?country=${encodeURIComponent(name)}`;
    }

    function removeFavorite(name) {
      const confirmDel = confirm(`Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a ${name} khá»i danh sÃ¡ch yÃªu thÃ­ch?`);
      if (!confirmDel) return;

      const updated = favorites.filter(item => item.name !== name);
      localStorage.setItem(key, JSON.stringify(updated));
      location.reload();
    }
  </script>
      </ul>
<a href="home.html" class="btn-primary">ğŸ”™ Quay láº¡i trang chá»§</a>
</body>
</html>
